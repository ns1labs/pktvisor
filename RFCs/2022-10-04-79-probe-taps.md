# pktvisor Probe Taps

## Status
**Experimental**: implemented and available for beta testing but the interface may still change

## Summary

Probe Taps are named, host specific test probes available to run active network tests through pktvisord. They represent
probe instances; they do not cause any processing to take place in pktvisord. They should be referenced by
Probe Policies (#78) by name.

The goal of Probe Taps is to abstract away host level details of probes, such as bound interfaces or any other host specific configuration or setting.

Probe Taps may be configured on the command line at agent start up, and may optionally be configured by the Admin API if
available.

`probe_taps.yaml`

```yaml
version: "1.0"

visor:
  # each probe tap has input module specific configuration options
  taps:
    # a probe tap which uses eth0 and is referenced by the identifier "anycast"
    default_probe:
      input_type: probe
      config:
        maximum_concurrent_tests: 5 #default is 10
        supported_test_types:
          - ping
          - http
          - udp_echo
          - tcp_connect
      tags:
        virtual: true
        vhost: 1 
```

## REST API

CRUD on Taps for a running pktvisord instance is possible if the Admin API is active.

`/api/v1/taps`

`/api/v1/taps/:id:`

## Standalone Command Line Example

```shell
$ pktvisord --config taps.yaml
```
